<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TONART-O-MAT</title>
    <style>
        body {
            font-family: "Times New Roman", serif;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #d8f3dc;
            background-image: url('https://raw.githubusercontent.com/Arnoldinho1979/find-your-personal-key/main/Tonart-O-Mat-Hintergrund.png'); /* Füge hier die URL zum Bild ein */
            background-size: cover; /* Das Bild wird auf die ganze Seite skaliert */
            background-position: center; /* Das Bild wird in der Mitte ausgerichtet */
        }
        h1 {
            text-align: center;
            font-size: 3em;
            margin-bottom: -8px;
        }
        h2 {
            text-align: center;
            margin-top: -2px;
            margin-bottom: 19px;
            width: 60%;
            font-weight: normal;
        }
        .statement {
            margin: 20px;
            font-size: 24px;
            text-align: center;
            opacity: 1;
            transition: opacity 0.5s ease;
        }
        .button-container {
            display: flex;
            flex-direction: column;
            gap: 10px; /* Abstand zwischen den Buttons */
        }
        .button {
            padding: 20px 40px; /* Mehr Innenabstand (größerer Button) */
            font-size: 1.5em; /* Größere Schriftgröße */
            width: 200px; /* Feste Breite für die Buttons */
            background-color: #d8f3dc; /* Hintergrundfarbe */
            border: none;
            border-radius: 8px; /* Abgerundete Ecken */
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        .button:hover {
            background-color: #ff6f61; /* Dunklere Hintergrundfarbe beim Hover */
        }
        .hidden {
    display: none;
}

        /* Neue Klasse für den Ergebnisbereich */
        .result-text {
            text-align: center;
            width: 50%; /* Text nimmt die Hälfte der Seite ein */
            margin: 20px auto;
            padding: 20px;
            background-color: rgba(255, 255, 255, 0.8);
            border-radius: 8px;
            box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
        }
        @media (max-width: 768px) { /* Für Bildschirme bis 768px Breite */
    body {
        height: auto; /* Flexibilität bei der Höhe */
        padding: 20px; /* Vermeidung von Randabschneidungen */
    }
    h1 {
        font-size: 2em; /* Kleinere Schriftgröße */
    }
    h2 {
        font-size: 1em;
        width: 90%; /* Breiter auf kleineren Geräten */
    }
    .statement {
        font-size: 18px; /* Kleinere Schrift */
        margin: 10px;
    }
    .button-container {
        gap: 5px; /* Weniger Abstand zwischen Buttons */
    }
    .button {
        font-size: 1em; /* Kleinere Buttons */
        width: 100%; /* Buttons über die gesamte Breite */
        padding: 15px; /* Angemessene Größe für Touch-Geräte */
    }
    .result-text {
        width: 90%; /* Breiter auf Mobilgeräten */
        font-size: 14px; /* Kleinere Schrift */
    }
    .footer {
        font-size: 0.8em; /* Kleinere Schrift im Footer */
    }
    </style>
</head>
<body>
<h1 style="text-align: center; font-size: 3em; margin-bottom: 0px; width: 100%">TONART-O-MAT</h1>
<h2 style="text-align: center; margin-top: 5px; margin-bottom: 19px; width: 60%; font-weight: normal; font-size: 15px;">Welche Tonart passt zu mir?</h2>

<div class="statement" id="question"></div>
<div class="button-container">
    <button class="button" onclick="answer(1)">Ja</button>
    <button class="button" onclick="answer(2)">Nein</button>
    <button class="button" onclick="answer(3)">Weiß nicht</button>
</div>

<script>
    const statements = [
        "01 Apfelsaft trinke ich immer kristallklar, nie naturtrüb!",
        "02 Statement.",
        "03 Statement.",
        "04 Statement.",
        "05 Statement.",
        "06 Statement.",
        "07 Statement.",
        "08 Statement.",
        "09 Statement.",
        "10 Statement.",
        "11 Statement.",
        "12 Statement.",
        "13 Statement.",
        "14 Statement.",
        "15 Statement.",
        "16 Statement.",
        "17 Statement.",
        "18 Statement.",
        "19 Statement.",
        "20 Statement.",
        "21 Statement.",
        "22 Statement.",
        "23 Statement.",
        "24 Statement."
    ];

    const tonart = {
        "C-Dur": {
            scores: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
            text: "Du wirst oft verkannt und als ein bisschen oberflächlich missverstanden, dabei kannst du durchaus &raquo;ernst, aber dumpf und trübe&laquo; sein (Hector Berlioz, 1844). Laut Christian Friedrich Daniel Schubart, der seine <i>Ideen zu einer Ästhetik der Tonkunst</i> 1784 einem Mitgefangenen – kein Spaß – durch eine Wandritze diktierte, ist C-Dur &raquo;ganz rein. Sein Charakter heißt: Unschuld, Einfalt, Naivität, Kindersprache.&laquo; Aber  gemäß Aussagen des Hamburgischen Tausendsassas Johann Mattheson (1713) kann C-Dur &raquo;ziemlich rüde&laquo; und &raquo;frech&laquo; sein. C-Dur spricht laut Ferdinand Gotthelf Hand (1837) &raquo;das Menschliche im Gefühl rein und sicher aus&laquo;. Für die Komponisten Nikolai Rimski-Korsakow und Olivier Messiaen, die beim Lauschen von Tonarten Farben gesehen haben, leuchtet C-Dur Weiß. C-Dur Tonart wird übrigens dem Sternzeichen Widder zugeschrieben – und das wohl berühmteste Stück in deiner Tonart ist der erste Satz (<i>Allegro</i>) der 1788 notierten <i><a href='https://youtu.be/WUvop5RsCGg?t=16727' target='_blank'>Sonate für Klavier C-Dur KV 545 (&raquo;Sonata facile&laquo;)</a></i> von Wolfgang Amadeus Mozart (1756–1791). Natürlich haben auch Komponistinnen – nicht »nur« Männer – Stücke in deiner ganz persönlichen Tonart geschrieben. Höre dir doch beispielsweise das großartige <i><a href='https://youtu.be/_TZVFXKTfnM?si=q7Qu9iAJsbOKdhJj' target='_blank'>Klaviertrio C-Dur op. 29</a></i> (1910) der kroatischen Komponistin Dora Pejačević (1885–1923) an."
        },
        "c-Moll": {
            scores: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2],
            text: "Okay, wow … du bist ein c-Moll-Typ! Die wohl dramatischsten Stücke der Klassik überhaupt stehen in c-Moll, so das sicherlich bekannteste Werk in dieser Tonart: der erste Satz (<i>Allegro con brio</i>) von Ludwig van Beethovens (1770–1827) <i><a href='https://youtu.be/j0aMraL51Mo?si=7J4KhdxO0E1cI-us' target='_blank'>Symphonie Nr. 5 c-Moll op. 67</i></a> (1808). Laut Hector Berlioz (1844) ist c-Moll &raquo;düster&laquo; und – oh Wunder! – &raquo;wenig hellklingend&laquo;. Für Christian Friedrich Daniel Schubart (1806) klingt in c-Moll eine &raquo;Liebeserklärung&laquo; mit, zugleich vermittle c-Moll eine &raquo;Klage der unglücklichen Liebe&laquo;. Johann Mattheson (1739) findet c-Moll sogar &raquo;überaus lieblich, dabey auch triste, traurig&laquo;. Olivier Messiaen sah ein gelbliches Grau vor seinen (geschlossenen) Augen, wenn er c-Moll hörte. Nun &raquo;gut&laquo;, alles Männernamen. Dabei hat eine Frau eines der eindrücklichsten Werke aller Zeiten in c-Moll geschrieben, nämlich Ethel Smyth (1858–1944). Diese englische Komponistin und zugleich Kämpferin für Frauenrechte komponierte 1930 – nachdem sie selbst wegen einer Steinwurf-Attacke gegen das männliche Establishment im Knast saß – <i><a href='https://youtu.be/3y_T9pxvv8A?si=plbs3XwymjHUL4Il' target='_blank'>The Prison</i></a>. Und zu guter Letzt ein bisschen Esoterik: Die (tatsächlich ziemlich bockige) Tonart c-Moll wird dem Sternzeichen Steinbock zugeordnet."
                 },
        "Des-Dur": {
            scores: [2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2],
            text: "Sehr schön! Des-Dur bezeichnet Hector Berlioz (1844) als &raquo;majestätisch&laquo;. Christian Daniel Schubart hört in Des-Dur einen &raquo;schielenden Ton&laquo;, der in &raquo;Leid und Wonne&laquo; ausartet (1806). Schubart, vielleicht nicht ganz Herr seiner Sinne, notiert des Weiteren zu Des-Dur: &raquo;Lachen kann er nicht, aber lächeln; heulen kann er nicht, aber wenigstens das Weinen grimmassieren&laquo;. Ja, überhaupt könne man &raquo;sonach nur seltene Charaktere und Empfindungen in diesen Ton verlegen&laquo;. Ferdinand Gotthelf Hand (1837) findet Des-Dur &raquo;verschleiert, weich&laquo; – und Georg Joseph Vogler (1778) &raquo;pathetisch&laquo;. Wie dem auch sei: Des-Dur ist eine wunderbare, hochromantische Tonart! Nikolai Rimski-Korsakow hört in Des-Dur ein Violett – und Hobby-Ornithologe Olivier Messiaen ein Grau-Grün. Das vermeintlich bekannteste Werk in Des-Dur ist das Mond-Stück <i><a href='https://youtu.be/MhadMhkFnnQ?si=ee4myhXW3S9ulZEp' target='_blank'>Clair de Lune</i></a> aus Claude Debussys (1862–1918) <i>Suite bergamasque</i> (1890). Die Komponistin Liza Lehmann (1862–1918) weist nicht nur die gleichen Lebensdaten wie Debussy auf, sondern schrieb – im Rahmen ihrer spinnennetzumrankten, programmatischen Suite <i>Cobweb Castle</i>(1908) ebenfalls ein zum Schmelzen schönes Stück in Des-Dur, nämlich den <i><a href='https://youtu.be/EsowexlzA3A?si=aNU-LTeKDY6Ni00j&t=678' target='_blank'>Evensong</i> – also ein Abendlied. Insgesamt also eine hocherfreuliche (dem Sternbild Skorpion zugeordnete) Tonart zum Träumen, zum Erwärmen im Herzen und zum Aufwärmen am Kamin."
        },
        "D-Dur": {
            scores: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2],
            text: "D-Dur ist eine helle, kraftvolle Tonart, die oft in feierlichen und positiven Kontexten verwendet wird. Sie symbolisiert Stärke und Hoffnung."
        },
        // Weitere Tonarten hier
    };

    let currentQuestion = 0;
    let userResponses = [];

    function displayQuestion() {
        const questionElement = document.getElementById("question");
        questionElement.style.opacity = 0;
        
        setTimeout(() => {
            questionElement.textContent = statements[currentQuestion];
            questionElement.style.opacity = 1;
        }, 500);
    }

    function answer(response) {
        userResponses.push(response);
        currentQuestion++;
        
        if (currentQuestion < statements.length) {
            displayQuestion();
        } else {
            showResult();
        }
    }

    function showResult() {
    let result = determineResult();
    document.getElementById("question").innerHTML = `
        Am besten passt zu dir ... ...<br><br>${result.tonart}<br><br>
        <div class="result-text">${result.text}</div>
    `;
    document.querySelectorAll("button").forEach(btn => btn.style.display = "none");

    // "Noch einmal!"-Button sichtbar machen
    const retryButton = document.getElementById("retryButton");
    console.log(retryButton); // Debug: Prüfen, ob das Element korrekt gefunden wird
    retryButton.classList.remove("hidden");
}


    function determineResult() {
        let bestTonart = null;
        let bestScore = -1;

        for (let tonartName in tonart) {
            const { scores } = tonart[tonartName];
            let score = 0;

            let minLength = Math.min(userResponses.length, scores.length);
            for (let i = 0; i < minLength; i++) {
                if (userResponses[i] === scores[i]) {
                    score++;
                }
            }

            if (score > bestScore) {
                bestScore = score;
                bestTonart = tonartName; // Bestens passender Tonartname
            }
        }

        if (bestTonart === null) {
            return { tonart: "BWV 147", text: "Dies ist ein Standardtext, der angezeigt wird, wenn keine passende Tonart gefunden wird." }; // Standard-Tonart
        }

        return { tonart: bestTonart, text: tonart[bestTonart].text }; // Beste Tonart und Beschreibung
    }

    displayQuestion();
</script>
    <div class="footer"><br><br>
    <p>&copy; Made by <a href="https://arnoluecker.de" target="_blank">Arno Lücker</a> 2024 for <a href="https://van-magazin.de/" target="_blank">VAN Magazin</p>
</div>
<div style="position: fixed; bottom: 20px; width: 100%; text-align: center;">
    <button 
        class="button" 
        style="background-color: #6c757d; color: white;" 
        onclick="location.reload();">
        Noch einmal!
    </button>
</div>

</body>
</html>

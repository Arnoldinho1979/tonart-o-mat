<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TONART-O-MAT</title>
    <style>
        body {
            font-family: "Times New Roman", serif;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #d8f3dc;
            background-image: url('https://raw.githubusercontent.com/Arnoldinho1979/find-your-personal-key/main/Tonart-O-Mat-Hintergrund.png'); 
            background-size: cover;
            background-position: center;
        }
        h1 {
            text-align: center;
            font-size: 3em;
            margin-bottom: 0px;
        }
        h2 {
            text-align: center;
            margin-top: 5px;
            margin-bottom: 19px;
            width: 60%;
            font-weight: normal;
            font-size: 15px;
        }
        .statement {
            margin: 20px;
            font-size: 24px;
            text-align: center;
            opacity: 1;
            transition: opacity 0.5s ease;
        }
        .button-container {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        .button {
            padding: 20px 40px;
            font-size: 1.5em;
            width: 200px;
            background-color: #d8f3dc;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        .button:hover {
            background-color: #ff6f61;
        }
        .result-text {
            text-align: center;
            width: 50%;
            margin: 0 auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);
        }
        iframe {
            display: block;
            margin: 20px auto;
        }
    </style>
</head>
<body>
<h1>TONART-O-MAT</h1>
<h2>Welche Tonart passt zu mir?</h2>

<div class="statement" id="question"></div>
<div class="button-container">
    <button class="button" onclick="answer(1)">Ja</button>
    <button class="button" onclick="answer(2)">Nein</button>
    <button class="button" onclick="answer(3)">Weiß nicht</button>
</div>

<script>
    const statements = [
        "01 Apfelsaft trinke ich immer kristallklar, nie naturtrüb!",
        "02 Statement.",
        "03 Statement.",
        "04 Statement.",
        "05 Statement.",
        "06 Statement.",
        "07 Statement.",
        "08 Statement.",
        "09 Statement.",
        "10 Statement.",
        "11 Statement.",
        "12 Statement.",
        "13 Statement.",
        "14 Statement.",
        "15 Statement.",
        "16 Statement.",
        "17 Statement.",
        "18 Statement.",
        "19 Statement.",
        "20 Statement.",
        "21 Statement.",
        "22 Statement.",
        "23 Statement.",
        "24 Statement."
    ];

    const tonart = {
        "C-Dur!": {
            text: `Du wirst oft verkannt und als ein bisschen oberflächlich missverstanden, dabei kannst du durchaus »ernst, aber dumpf und trübe« sein (Hector Berlioz, 1844), wie der Apfelsaft in deinem Glas, der eher nicht kristallklar daherkommt. Laut Christian Friedrich Daniel Schubart, der seine »Ideen zu einer Ästhetik der Tonkunst« 1784 einem Mitgefangenen durch eine Wandritze diktierte, ist C-Dur »ganz rein. Sein Charakter heißt: Unschuld, Einfalt, Naivität, Kindersprache.« Aber laut gemäß Aussagen des Hamburgischen Tausendsassas Johann Mattheson (1713) kannst du … entschuldige: kann C-Dur (!) »ziemlich rüde« und »frech« sein. C-Dur spricht laut Ferdinand Gotthelf Hand (1837) »das Menschliche im Gefühl rein und sicher aus«. Laut drei berühmten Komponisten, die den Tonarten Farben zugeordnet haben, gehören zu C-Dur die Farben Weiß (Nikolai Rimski-Korsakow und Olivier Messiaen) und Rot (Alexander Skrjabin). Deine Tonart wird dem Sternzeichen Widder zugeschrieben – und das wohl berühmteste Stück in deiner Tonart ist der erste Satz (Allegro) der 1788 notierten Sonate für Klavier C-Dur KV 545 (»Sonata facile«) von Wolfgang Amadeus Mozart (1756–1791). Natürlich haben auch Komponistinnen – nicht »nur« Männer – Stücke in deiner ganz persönlichen Tonart geschrieben. Höre dir doch beispielsweise dieses großartige Werk an: das Klaviertrio C-Dur op. 29 (1910) der genialen kroatischen Komponistin Dora Pejačević (1885–1923)!`,
            videoUrl: "https://www.youtube.com/embed/WUvop5RsCGg?si=tLAyHipCexvGFj9y"
        }
        // Weitere Tonarten hier...
    };

    let currentQuestion = 0;
    let userResponses = [];

    function displayQuestion() {
        const questionElement = document.getElementById("question");
        questionElement.style.opacity = 0;

        setTimeout(() => {
            questionElement.textContent = statements[currentQuestion];
            questionElement.style.opacity = 1;
        }, 500);
    }

    function answer(response) {
        userResponses.push(response);
        currentQuestion++;

        if (currentQuestion < statements.length) {
            displayQuestion();
        } else {
            showResult();
        }
    }

    function showResult() {
        let result = determineResult();
        document.getElementById("question").innerHTML = `
            Am besten passt zu dir ... ...<br><br><div class="result-text">
            ${result.text}<br><br>
            <iframe width="560" height="315" src="${result.videoUrl}" frameborder="0" allowfullscreen></iframe>
            </div>
        `;
        document.querySelectorAll("button").forEach(btn => btn.style.display = "none");
    }

    function determineResult() {
        let bestTonart = null;
        let bestScore = -1;

        for (let tonartName in tonart) {
            const { scores } = tonart[tonartName];
            let score = 0;

            let minLength = Math.min(userResponses.length, scores.length);
            for (let i = 0; i < minLength; i++) {
                if (userResponses[i] === scores[i]) {
                    score++;
                }
            }

            if (score > bestScore) {
                bestScore = score;
                bestTonart = tonartName;
            }
        }

        if (bestTonart === null) {
            return { tonart: "BWV 147", videoUrl: tonart["BWV 147"].videoUrl }; // Standard-Tonart
        }

        return { tonart: bestTonart, text: tonart[bestTonart].text, videoUrl: tonart[bestTonart].videoUrl };
    }

    displayQuestion();
</script>

<div class="footer">
    <p>&copy; Made by <a href="https://arnoluecker.de" target="_blank">Arno Lücker</a> 2024</p>
</div>

</body>
</html>
